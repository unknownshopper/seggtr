<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modelo TCO - Omomobility</title>
  <meta name="description" content="Calculadora de Costo Total de Propiedad (TCO) - Comparaci√≥n entre motos el√©ctricas y de combusti√≥n">
  <link rel="icon" href="logcho.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="tco.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="logo-section">
          <img src="logcho.png" alt="Logo" class="logo">
          <div>
            <h1>Modelo TCO</h1>
            <p class="subtitle">Total Cost of Ownership - Omomobility</p>
          </div>
        </div>
        <a href="index.html" class="btn-back">‚Üê Volver al inicio</a>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container">
    <!-- Introducci√≥n -->
    <section class="intro-section">
      <h2>Calculadora de Costo Total de Propiedad</h2>
      <p>
        Compara el costo real de una motocicleta el√©ctrica vs. una de combusti√≥n considerando 
        <strong>compra, energ√≠a, mantenimiento y depreciaci√≥n</strong> a lo largo de su vida √∫til.
      </p>
    </section>

        <!-- Gu√≠a de Uso -->
        <section class="guide-section">
          <div class="guide-header">
            <h3>üìã C√≥mo usar esta calculadora</h3>
            <button class="toggle-guide" onclick="toggleGuide()">‚ñ∂ Mostrar Gu√≠a</button>
          </div>
          <div class="guide-content hidden" id="guide-content">
            <div class="guide-steps">
              <div class="guide-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>Ingresa los datos de la moto el√©ctrica</h4>
                  <p>Precio de compra, autonom√≠a por carga, costo de electricidad y mantenimiento anual.</p>
                  <div class="tip">üí° <strong>Tip:</strong> El costo por carga se calcula multiplicando los kWh de la bater√≠a por el precio del kWh de CFE (~$2-3 MXN/kWh).</div>
                </div>
              </div>
    
              <div class="guide-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>Ingresa los datos de la moto de combusti√≥n</h4>
                  <p>Precio, rendimiento (km/litro), precio de gasolina y mantenimiento anual.</p>
                  <div class="tip">üí° <strong>Tip:</strong> El mantenimiento de motos de combusti√≥n incluye: aceite, filtros, buj√≠as, afinaciones (~$3,000-6,000/a√±o).</div>
                </div>
              </div>
    
              <div class="guide-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>Define los par√°metros generales</h4>
                  <p>Kil√≥metros anuales que recorrer√°s, a√±os de uso proyectados y tasa de descuento.</p>
                  <div class="tip">üí° <strong>Tip:</strong> En Villahermosa, el promedio es 10,000-15,000 km/a√±o para uso urbano.</div>
                </div>
              </div>
    
              <div class="guide-step">
                <div class="step-number">4</div>
                <div class="step-content">
                  <h4>Haz clic en "Calcular TCO"</h4>
                  <p>El sistema generar√° autom√°ticamente gr√°ficas, tablas y conclusiones sobre cu√°l opci√≥n es m√°s econ√≥mica.</p>
                  <div class="tip">‚úÖ <strong>Resultado:</strong> Ver√°s el ahorro total, punto de equilibrio y costo por kil√≥metro de cada opci√≥n.</div>
                </div>
              </div>
            </div>
    
            <div class="guide-examples">
              <h4>Ejemplos de escenarios</h4>
              <div class="example-cards">
                <div class="example-card">
                  <h5>üèçÔ∏è Repartidor (Alto uso)</h5>
                  <ul>
                    <li>20,000 km/a√±o</li>
                    <li>Ahorro el√©ctrica: ~$25,000/a√±o</li>
                    <li>ROI: 18 meses</li>
                  </ul>
                </div>
                <div class="example-card">
                  <h5>üèôÔ∏è Uso urbano (Medio)</h5>
                  <ul>
                    <li>12,000 km/a√±o</li>
                    <li>Ahorro el√©ctrica: ~$15,000/a√±o</li>
                    <li>ROI: 2-3 a√±os</li>
                  </ul>
                </div>
                <div class="example-card">
                  <h5>üö∂ Uso ocasional (Bajo)</h5>
                  <ul>
                    <li>6,000 km/a√±o</li>
                    <li>Ahorro el√©ctrica: ~$8,000/a√±o</li>
                    <li>ROI: 4-5 a√±os</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

    <!-- Formulario de Par√°metros -->
    <section class="parameters-section">
      <h3>Par√°metros de Comparaci√≥n</h3>
      
      <div class="form-grid">
        <!-- Columna Izquierda: Moto El√©ctrica -->
        <div class="form-column electric">
          <h4>‚ö° Motocicleta El√©ctrica</h4>
          
          <div class="form-group">
            <label for="precio_electrica">Precio de compra (MXN)</label>
            <input type="number" id="precio_electrica" value="45000" min="0" step="1000">
          </div>

          <div class="form-group">
            <label for="autonomia_electrica">Autonom√≠a por carga (km)</label>
            <input type="number" id="autonomia_electrica" value="80" min="1" step="5">
          </div>

          <div class="form-group">
            <label for="costo_carga">Costo por carga completa (MXN)</label>
            <input type="number" id="costo_carga" value="8" min="0" step="0.5">
          </div>

          <div class="form-group">
            <label for="mant_electrica">Mantenimiento anual (MXN)</label>
            <input type="number" id="mant_electrica" value="1500" min="0" step="100">
          </div>

          <div class="form-group">
            <label for="depreciacion_electrica">Depreciaci√≥n anual (%)</label>
            <input type="number" id="depreciacion_electrica" value="15" min="0" max="100" step="1">
          </div>
        </div>

        <!-- Columna Derecha: Moto de Combusti√≥n -->
        <div class="form-column combustion">
          <h4>‚õΩ Motocicleta de Combusti√≥n</h4>
          
          <div class="form-group">
            <label for="precio_combustion">Precio de compra (MXN)</label>
            <input type="number" id="precio_combustion" value="35000" min="0" step="1000">
          </div>

          <div class="form-group">
            <label for="rendimiento_combustion">Rendimiento (km/litro)</label>
            <input type="number" id="rendimiento_combustion" value="35" min="1" step="1">
          </div>

          <div class="form-group">
            <label for="precio_gasolina">Precio de gasolina (MXN/litro)</label>
            <input type="number" id="precio_gasolina" value="24" min="0" step="0.5">
          </div>

          <div class="form-group">
            <label for="mant_combustion">Mantenimiento anual (MXN)</label>
            <input type="number" id="mant_combustion" value="4500" min="0" step="100">
          </div>

          <div class="form-group">
            <label for="depreciacion_combustion">Depreciaci√≥n anual (%)</label>
            <input type="number" id="depreciacion_combustion" value="20" min="0" max="100" step="1">
          </div>
        </div>
      </div>

      <!-- Par√°metros Generales -->
      <div class="general-params">
        <h4>Par√°metros Generales</h4>
        <div class="form-row">
          <div class="form-group">
            <label for="km_anuales">Kil√≥metros anuales</label>
            <input type="number" id="km_anuales" value="12000" min="1000" step="1000">
          </div>

          <div class="form-group">
            <label for="a√±os_uso">A√±os de uso</label>
            <input type="number" id="a√±os_uso" value="5" min="1" max="15" step="1">
          </div>

          <div class="form-group">
            <label for="tasa_descuento">Tasa de descuento anual (%)</label>
            <input type="number" id="tasa_descuento" value="8" min="0" max="20" step="0.5">
          </div>
        </div>
      </div>

      <!-- Bot√≥n Calcular -->
      <div class="button-container">
        <button id="btn-calcular" class="btn-primary">Calcular TCO</button>
        <button id="btn-reset" class="btn-secondary">Restablecer valores</button>
      </div>
    </section>

    <!-- Resultados -->
    <section id="resultados-section" class="resultados-section" style="display: none;">
      <h3>Resultados del An√°lisis TCO</h3>

      <!-- Resumen Comparativo -->
      <div class="summary-cards">
        <div class="summary-card electric">
          <h4>‚ö° Moto El√©ctrica</h4>
          <div class="tco-total">
            <span class="label">TCO Total</span>
            <span class="value" id="tco_total_electrica">$0</span>
          </div>
          <div class="tco-breakdown">
            <div class="breakdown-item">
              <span>Compra:</span>
              <span id="compra_electrica">$0</span>
            </div>
            <div class="breakdown-item">
              <span>Energ√≠a:</span>
              <span id="energia_electrica">$0</span>
            </div>
            <div class="breakdown-item">
              <span>Mantenimiento:</span>
              <span id="mant_total_electrica">$0</span>
            </div>
            <div class="breakdown-item">
              <span>Depreciaci√≥n:</span>
              <span id="depr_electrica">$0</span>
            </div>
          </div>
          <div class="cost-per-km">
            <span>Costo por km:</span>
            <span id="costo_km_electrica">$0.00</span>
          </div>
        </div>

        <div class="summary-card combustion">
          <h4>‚õΩ Moto de Combusti√≥n</h4>
          <div class="tco-total">
            <span class="label">TCO Total</span>
            <span class="value" id="tco_total_combustion">$0</span>
          </div>
          <div class="tco-breakdown">
            <div class="breakdown-item">
              <span>Compra:</span>
              <span id="compra_combustion">$0</span>
            </div>
            <div class="breakdown-item">
              <span>Combustible:</span>
              <span id="combustible_combustion">$0</span>
            </div>
            <div class="breakdown-item">
              <span>Mantenimiento:</span>
              <span id="mant_total_combustion">$0</span>
            </div>
            <div class="breakdown-item">
              <span>Depreciaci√≥n:</span>
              <span id="depr_combustion">$0</span>
            </div>
          </div>
          <div class="cost-per-km">
            <span>Costo por km:</span>
            <span id="costo_km_combustion">$0.00</span>
          </div>
        </div>

        <div class="summary-card savings">
          <h4>üí∞ Ahorro con El√©ctrica</h4>
          <div class="tco-total">
            <span class="label">Ahorro Total</span>
            <span class="value" id="ahorro_total">$0</span>
          </div>
          <div class="savings-details">
            <div class="breakdown-item">
              <span>Ahorro anual:</span>
              <span id="ahorro_anual">$0</span>
            </div>
            <div class="breakdown-item">
              <span>Ahorro mensual:</span>
              <span id="ahorro_mensual">$0</span>
            </div>
            <div class="breakdown-item">
              <span>ROI:</span>
              <span id="roi_porcentaje">0%</span>
            </div>
            <div class="breakdown-item">
              <span>Punto de equilibrio:</span>
              <span id="break_even">0 a√±os</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Gr√°ficas -->
      <div class="charts-container">
        <div class="chart-card">
          <h4>Comparaci√≥n de Costos Totales</h4>
          <canvas id="chart-comparacion"></canvas>
        </div>

        <div class="chart-card">
          <h4>Evoluci√≥n del TCO Acumulado</h4>
          <canvas id="chart-evolucion"></canvas>
        </div>

        <div class="chart-card">
          <h4>Desglose de Costos por Categor√≠a</h4>
          <canvas id="chart-desglose"></canvas>
        </div>

        <div class="chart-card">
          <h4>Costo Anual por A√±o</h4>
          <canvas id="chart-anual"></canvas>
        </div>
      </div>

      <!-- Tabla de Desglose Anual -->
      <div class="table-container">
        <h4>Desglose Anual Detallado</h4>
        <div class="table-responsive">
          <table id="tabla-desglose">
            <thead>
              <tr>
                <th>A√±o</th>
                <th colspan="2">El√©ctrica</th>
                <th colspan="2">Combusti√≥n</th>
                <th>Ahorro Anual</th>
              </tr>
              <tr class="subheader">
                <th></th>
                <th>Anual</th>
                <th>Acumulado</th>
                <th>Anual</th>
                <th>Acumulado</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="tabla-body">
              <!-- Generado din√°micamente -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Botones de Exportaci√≥n -->
      <div class="export-buttons">
        <button id="btn-export-pdf" class="btn-secondary">üìÑ Exportar PDF</button>
        <button id="btn-export-excel" class="btn-secondary">üìä Exportar Excel</button>
        <button id="btn-share" class="btn-secondary">üîó Compartir resultados</button>
      </div>
    </section>

    <!-- Notas y Metodolog√≠a -->
    <section class="methodology-section">
      <h3>Metodolog√≠a y Supuestos</h3>
      <div class="methodology-content">
        <h4>¬øQu√© incluye el TCO?</h4>
        <ul>
          <li><strong>Costo de adquisici√≥n:</strong> Precio de compra inicial de la motocicleta</li>
          <li><strong>Energ√≠a/Combustible:</strong> Costo de electricidad o gasolina seg√∫n uso anual</li>
          <li><strong>Mantenimiento:</strong> Servicios preventivos, reparaciones, refacciones y consumibles</li>
          <li><strong>Depreciaci√≥n:</strong> P√©rdida de valor del veh√≠culo a lo largo del tiempo</li>
        </ul>

        <h4>Supuestos del modelo</h4>
        <ul>
          <li>Los costos de energ√≠a y combustible se mantienen constantes (ajustables)</li>
          <li>El mantenimiento es anual y constante (puede variar seg√∫n uso real)</li>
          <li>La depreciaci√≥n es lineal seg√∫n el porcentaje anual definido</li>
          <li>No se incluyen seguros, tenencias ni costos de financiamiento</li>
          <li>Tasa de descuento aplicada para valor presente neto (VPN)</li>
        </ul>

        <h4>Ventajas de las motos el√©ctricas</h4>
        <ul>
          <li>‚úÖ Menor costo de energ√≠a (electricidad vs. gasolina)</li>
          <li>‚úÖ Mantenimiento reducido (sin cambios de aceite, filtros, buj√≠as)</li>
          <li>‚úÖ Menor depreciaci√≥n en mercados maduros</li>
          <li>‚úÖ Cero emisiones locales</li>
          <li>‚úÖ Menor ruido y vibraci√≥n</li>
        </ul>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 Omomobility - Estudio de Mercado | The Unknown Shopper</p>
      <p class="small">Modelo TCO v1.0 - Calculadora interactiva para an√°lisis de viabilidad econ√≥mica</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="auth.js"></script>
  <script src="tco.js"></script>
  <script>
    function toggleGuide() {
      const guideContent = document.getElementById('guide-content');
      const toggleBtn = document.querySelector('.toggle-guide');
      
      if (guideContent.classList.contains('hidden')) {
        guideContent.classList.remove('hidden');
        toggleBtn.textContent = '‚ñº Ocultar Gu√≠a';
      } else {
        guideContent.classList.add('hidden');
        toggleBtn.textContent = '‚ñ∂ Ocultar Gu√≠a';
      }
    }
  </script>
</body>
</html>